;/*FB_PKG_DELIM*/

__d("useMWRedirectToOpenThreadOfDualThread",["LSIntEnum","MAWThreadCutover","react","react-compiler-runtime","useMWNavigation","useMWPCreateOneToOneThreadThenNavigate"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(6),e=d("MAWThreadCutover").useGetCutoverOpenThreadKey(a),f=d("MAWThreadCutover").useIsCutoverOpenThread(e),g=c("useMWNavigation")(),h=c("useMWPCreateOneToOneThreadThenNavigate")(g,"cutoverThread","dualThreadCutoverComposer"),j;b[0]!==h||b[1]!==e||b[2]!==f||b[3]!==g||b[4]!==a?(j=function(){e!=null&&f?g.openTabOrInbox({threadKey:e,threadType:(i||(i=d("LSIntEnum"))).ofNumber(1)},"cutoverThread"):h==null||h(a)},b[0]=h,b[1]=e,b[2]=f,b[3]=g,b[4]=a,b[5]=j):j=b[5];return j}g["default"]=a}),98);
__d("MAWViewArchivedOpenThreadMenuItem",["fbt","I64","LSMessagingThreadTypeUtil","MAWThreadCutover","MWXIconMenuItemBox","MWXMenuItem.react","react","react-compiler-runtime","requireDeferred","useMWEntrypoint","useMWRedirectToOpenThreadOfDualThread"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react"),l=c("requireDeferred")("MessageThreadEventsFalcoEvent").__setRef("MAWViewArchivedOpenThreadMenuItem");function a(a){var b=d("react-compiler-runtime").c(10);a=a.thread;var e=a.threadKey,f=a.threadType,g=d("MAWThreadCutover").useIsCutoverSecureThread(e),i=c("useMWRedirectToOpenThreadOfDualThread")(e),m=c("useMWEntrypoint")(),n;b[0]!==f?(n=d("LSMessagingThreadTypeUtil").isArmadilloSecure(f),b[0]=f,b[1]=n):n=b[1];var o=n;n=d("MAWThreadCutover").useIsDualThreadCutoverSecureThread(a.threadKey);a=d("MAWThreadCutover").useOpenThreadIfExistsFromCutoverThread(a.threadKey)==null;n=n&&!a;b[2]!==m||b[3]!==g||b[4]!==o||b[5]!==i||b[6]!==n||b[7]!==e||b[8]!==f?(a=n&&k.jsx(c("MWXMenuItem.react"),{icon:c("MWXIconMenuItemBox"),onClick:function(){l.onReady(function(a){return a.log(function(){return{entry_point:m,event_type:"secret_conversation_post_cutover_thread_detail_entry_point_click_event",is_cutover:g,thread_id:(j||(j=d("I64"))).to_string(e),thread_type:j.to_string(f),transport_type:o?"ACT":"MI"}})}),i()},primaryText:h._(/*BTDS*/"View archived chat")}),b[2]=m,b[3]=g,b[4]=o,b[5]=i,b[6]=n,b[7]=e,b[8]=f,b[9]=a):a=b[9];return a}g["default"]=a}),226);
__d("MWInboxPostcutoverSecureThreadBannerDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{}}},root:c("JSResourceForInteraction")("MWInboxPostcutoverSecureThreadBannerDialog.react").__setRef("MWInboxPostcutoverSecureThreadBannerDialog.entrypoint")};g["default"]=a}),98);
__d("MWInboxPostcutoverSecureThreadBanner.react",["fbt","ix","I64","LSContactBitOffset","MAWThreadCutover","MWEncryptedBackupsLocalStorageEntryEnum","MWInboxPostcutoverSecureThreadBannerDialog.entrypoint","MWPActor.react","MWXQPCard.react","getMWInlineQPBannerStyles","getMWLocalStorageThreadsWithBannerDismissed","gkx","react","react-compiler-runtime","requireDeferred","setHasDismissedSecretConversationsDeprecationBanner.react","stylex","useMWEntrypoint","useMWGetOtherUserContact","useMWRedirectToOpenThreadOfDualThread","useMWXEntryPointDialog","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m=k||(k=d("react")),n=k.useState,o=c("requireDeferred")("MessageThreadEventsFalcoEvent").__setRef("MWInboxPostcutoverSecureThreadBanner.react"),p=c("gkx")("23433"),q=c("gkx")("18115"),r="ACT";function a(a){var b=d("react-compiler-runtime").c(17),e=a.source;a=a.thread;var f=p?h._(/*BTDS*/"Messenger"):h._(/*BTDS*/"Facebook"),g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=p?i("876158"):i("781429"),b[0]=g):g=b[0];g=g;var k=a.threadKey,s=a.threadType,t=d("MAWThreadCutover").useIsDualThreadCutoverSecureThread(k);a=d("MAWThreadCutover").useOpenThreadIfExistsFromCutoverThread(k)!=null;var u;b[1]!==k?(u=function(){var a=d("getMWLocalStorageThreadsWithBannerDismissed").parseLocalStorageThreadsWithBannerDismissed(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_POSTCUTOVER_BANNER_ON_SECURE_THREAD_DISMISSED_V2);return!Object.prototype.hasOwnProperty.call(a,(l||(l=d("I64"))).to_string(k))},b[1]=k,b[2]=u):u=b[2];u=n(u);var v=u[0],w=u[1],x=c("useMWRedirectToOpenThreadOfDualThread")(k),y=c("useMWEntrypoint")();b[3]!==y||b[4]!==t||b[5]!==k||b[6]!==s?(u={onVisible:function(){o.onReady(function(a){return a.log(function(){return{entry_point:y,event_type:"secret_conversation_post_cutover_thread_banner_v2_impression_event",is_cutover:t,thread_id:(l||(l=d("I64"))).to_string(k),thread_type:l.to_string(s),transport_type:r}})})}},b[3]=y,b[4]=t,b[5]=k,b[6]=s,b[7]=u):u=b[7];u=c("useVisibilityObserver")(u);var z=d("MWPActor.react").useActor(),A=d("MAWThreadCutover").useGetCutoverOpenThreadKey(k),B;b[8]!==z||b[9]!==A?(B=A!=null&&(l||(l=d("I64"))).equal(z,A),b[8]=z,b[9]=A,b[10]=B):B=b[10];var C=B;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(z=["firstName","name"].concat(d("LSContactBitOffset").contactCapabilityFields),b[11]=z):z=b[11];var D=c("useMWGetOtherUserContact")(k,s,z);if(b[12]!==C||b[13]!==(D==null?void 0:D.firstName)||b[14]!==(D==null?void 0:D.name)){B=C===!0?h._(/*BTDS*/"This chat is secured with end-to-end encryption. Your other chat with yourself was archived."):h._(/*BTDS*/"This chat is secured with end-to-end encryption. Your other chat with {name} was archived.",[h._param("name",(A=D==null?void 0:D.firstName)!=null?A:D==null?void 0:D.name)]);b[12]=C;b[13]=D==null?void 0:D.firstName;b[14]=D==null?void 0:D.name;b[15]=B}else B=b[15];z=B;b[16]===Symbol["for"]("react.memo_cache_sentinel")?(A={},b[16]=A):A=b[16];B=c("useMWXEntryPointDialog")(c("MWInboxPostcutoverSecureThreadBannerDialog.entrypoint"),A);var E=B[0];b=B[1];A=B[2];B=B[3];return v&&t&&a&&q&&m.jsx("div",babelHelpers["extends"]({"data-testid":void 0},(j||(j=c("stylex"))).props(d("getMWInlineQPBannerStyles").inlineQPBannerStyles.inlineQPBannerWrapper),{children:m.jsx(c("MWXQPCard.react"),{addOnPrimary:{label:h._(/*BTDS*/"Open other chat"),onPress:function(){o.onReady(function(a){return a.log(function(){return{entry_point:y,event_type:"secret_conversation_post_cutover_thread_banner_v2_view_archived_chat_cta_click_event",is_cutover:t,thread_id:(l||(l=d("I64"))).to_string(k),thread_type:l.to_string(s),transport_type:r}})}),x()},type:"secondary"},addOnSecondary:{label:h._(/*BTDS*/"Learn more"),onHoverIn:b,onHoverOut:A,onPress:function(){var a;o.onReady(function(a){return a.log(function(){return{entry_point:y,event_type:"secret_conversation_post_cutover_thread_banner_v2_learn_more_cta_click_event",is_cutover:t,thread_id:(l||(l=d("I64"))).to_string(k),thread_type:l.to_string(s),transport_type:r}})});E({isSelfThread:C,otherUserName:(a=D==null?void 0:D.firstName)!=null?a:D==null?void 0:D.name,source:e})},onPressIn:B},body:z,headline:h._(/*BTDS*/"{platformName} upgraded security",[h._param("platformName",f)]),icon:{props:{isDecorative:!0,src:g},type:"image"},onClose:function(){d("setHasDismissedSecretConversationsDeprecationBanner.react").setHasDismissedSecretConversationsDeprecationBanner((l||(l=d("I64"))).to_string(k),c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_POSTCUTOVER_BANNER_ON_SECURE_THREAD_DISMISSED_V2),o.onReady(function(a){return a.log(function(){return{entry_point:y,event_type:"secret_conversation_post_cutover_thread_banner_v2_dismissed_event",is_cutover:t,thread_id:(l||(l=d("I64"))).to_string(k),thread_type:l.to_string(s),transport_type:r}})}),w(!1)},ref:u,secondaryReduceEmphasis:!1,xstyle:d("getMWInlineQPBannerStyles").inlineQPBannerStyles.inlineQPBanner})}))}g["default"]=a}),226);